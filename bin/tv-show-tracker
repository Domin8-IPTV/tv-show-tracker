#!/usr/bin/env node
/**
 * Entry point of the library
 */

const program = require('commander');
const {version, description} = require('../package.json');
const chalk = require('chalk');
const figlet = require('figlet');
const cli = require('./../src/cli');
const clear = require('clear');

// default option
const app = require('../');

/**
 * Prints the title (duh)
 */
clear();
console.log(chalk.red(
	figlet.textSync('Tv Show Tracker', {horizontalLayout: 'full'})
));

program
	.version(version)
	.description(description);

/**
 * Watch a show
 */
program
	.command('watch')
	.alias('a')
	.description('Watch a show')
	.action(async () => {
		// then ask if mark chapter as watched
		const result = await cli.watch();
		console.log(result)
	});


/**
 * Parse arguments given
 */
program.parse(process.argv);

/**
 * Default option if no command given
 */
if (program.args.length < 1) {
	app.start();
}
